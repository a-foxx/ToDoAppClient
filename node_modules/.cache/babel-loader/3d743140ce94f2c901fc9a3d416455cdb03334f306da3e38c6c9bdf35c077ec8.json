{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Alan/Documents/Itcareerswitch/codecademy/projects/to-do-app/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Alan/Documents/Itcareerswitch/codecademy/projects/to-do-app/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Alan/Documents/Itcareerswitch/codecademy/projects/to-do-app/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import TickIcon from'./TickIcon';import ProgressBar from'./ProgressBar';import Modal from'./Modal';import{useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ListItem=function ListItem(_ref){var task=_ref.task,getData=_ref.getData;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showModal=_useState2[0],setShowModal=_useState2[1];var deleteItem=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"\".concat(process.env.REACT_APP_SERVERURL,\"/to-do/todos/\").concat(task.id),{method:'DELETE'});case 3:response=_context.sent;if(response.status===200){getData();}_context.next=9;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);case 9:case\"end\":return _context.stop();}},_callee,null,[[0,7]]);}));return function deleteItem(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"li\",{className:\"list-item\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-container\",children:[/*#__PURE__*/_jsx(TickIcon,{}),task&&/*#__PURE__*/_jsx(\"p\",{children:task.title}),task&&/*#__PURE__*/_jsx(ProgressBar,{progress:task.progress})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"button-container\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"edit\",\"data-testid\":\"edit\",onClick:function onClick(){return setShowModal(true);},children:\"EDIT\"}),/*#__PURE__*/_jsx(\"button\",{className:\"delete\",\"data-testid\":\"delete\",onClick:deleteItem,children:\"DELETE\"})]}),showModal&&/*#__PURE__*/_jsx(Modal,{mode:'edit',setShowModal:setShowModal,getData:getData,task:task})]});};export default ListItem;","map":{"version":3,"names":["React","TickIcon","ProgressBar","Modal","useState","ListItem","task","getData","showModal","setShowModal","deleteItem","fetch","process","env","REACT_APP_SERVERURL","id","method","response","status","title","progress"],"sources":["C:/Users/Alan/Documents/Itcareerswitch/codecademy/projects/to-do-app/client/src/components/ListItem.js"],"sourcesContent":["import React from 'react';\r\nimport TickIcon from './TickIcon'\r\nimport ProgressBar from './ProgressBar'\r\nimport Modal from './Modal'\r\nimport { useState } from 'react';\r\n\r\nconst ListItem = ({ task, getData }) => {\r\n  const [showModal, setShowModal] = useState(false)\r\n\r\n  const deleteItem = async () => {\r\n    try {\r\n      const response = await fetch(`${process.env.REACT_APP_SERVERURL}/to-do/todos/${task.id}`, {\r\n        method: 'DELETE'\r\n      })\r\n      if (response.status === 200) {\r\n        getData()\r\n      }\r\n    } catch (error) {\r\n\r\n    }\r\n  }\r\n    return (\r\n      <li className='list-item'>\r\n        <div className='info-container'>\r\n          <TickIcon/>\r\n          {task && <p>{task.title}</p>}\r\n          {task && <ProgressBar progress={task.progress}/>}\r\n        </div>\r\n        <div className=\"button-container\">\r\n          <button className=\"edit\" data-testid=\"edit\" onClick={() => setShowModal(true)}>EDIT</button>\r\n          <button className=\"delete\" data-testid = \"delete\" onClick={deleteItem}>DELETE</button>\r\n        </div>\r\n        {showModal && <Modal mode={'edit'} setShowModal={setShowModal} getData={getData} task={task} />}\r\n      </li>\r\n    );\r\n  }\r\n  \r\n  export default ListItem;\r\n  "],"mappings":"mfAAA,MAAOA,MAAK,KAAM,OAAO,CACzB,MAAOC,SAAQ,KAAM,YAAY,CACjC,MAAOC,YAAW,KAAM,eAAe,CACvC,MAAOC,MAAK,KAAM,SAAS,CAC3B,OAASC,QAAQ,KAAQ,OAAO,CAAC,wFAEjC,GAAMC,SAAQ,CAAG,QAAXA,SAAQ,MAA0B,IAApBC,KAAI,MAAJA,IAAI,CAAEC,OAAO,MAAPA,OAAO,CAC/B,cAAkCH,QAAQ,CAAC,KAAK,CAAC,wCAA1CI,SAAS,eAAEC,YAAY,eAE9B,GAAMC,WAAU,6FAAG,uLAEQC,MAAK,WAAIC,OAAO,CAACC,GAAG,CAACC,mBAAmB,yBAAgBR,IAAI,CAACS,EAAE,EAAI,CACxFC,MAAM,CAAE,QACV,CAAC,CAAC,QAFIC,QAAQ,eAGd,GAAIA,QAAQ,CAACC,MAAM,GAAK,GAAG,CAAE,CAC3BX,OAAO,EAAE,CACX,CAAC,gJAIJ,kBAXKG,WAAU,2CAWf,CACC,mBACE,YAAI,SAAS,CAAC,WAAW,wBACvB,aAAK,SAAS,CAAC,gBAAgB,wBAC7B,KAAC,QAAQ,IAAE,CACVJ,IAAI,eAAI,mBAAIA,IAAI,CAACa,KAAK,EAAK,CAC3Bb,IAAI,eAAI,KAAC,WAAW,EAAC,QAAQ,CAAEA,IAAI,CAACc,QAAS,EAAE,GAC5C,cACN,aAAK,SAAS,CAAC,kBAAkB,wBAC/B,eAAQ,SAAS,CAAC,MAAM,CAAC,cAAY,MAAM,CAAC,OAAO,CAAE,yBAAMX,aAAY,CAAC,IAAI,CAAC,EAAC,UAAC,MAAI,EAAS,cAC5F,eAAQ,SAAS,CAAC,QAAQ,CAAC,cAAc,QAAQ,CAAC,OAAO,CAAEC,UAAW,UAAC,QAAM,EAAS,GAClF,CACLF,SAAS,eAAI,KAAC,KAAK,EAAC,IAAI,CAAE,MAAO,CAAC,YAAY,CAAEC,YAAa,CAAC,OAAO,CAAEF,OAAQ,CAAC,IAAI,CAAED,IAAK,EAAG,GAC5F,CAET,CAAC,CAED,cAAeD,SAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}